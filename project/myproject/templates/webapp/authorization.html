{% extends "webapp/main.html" %}

{%block title%}<title>Служба аутентификации</title>{% endblock %}

{% block body%}
<div class="form-container shadow rounded">
    <div class="background">
        <form method="post">
            {% csrf_token %}
            <button id="close-button-login" type="button" class="btn-close"
                aria-label="Закрыть"></button>
            <div class="form-group">
                <label class="user-select-none" for="exampleInputEmail1">Логин</label>
                <input name="login" type="text" class="form-control border"
                    id="exampleInputEmail1"
                    aria-describedby="emailHelp" placeholder="Введите логин"
                    required>
            </div>
            <div class="form-group">
                <label class="user-select-none" for="exampleInputPassword1">Пароль</label>
                <input name="password" type="password" class="form-control
                    border rounded"
                    id="exampleInputPassword1" placeholder="Введите пароль"
                    required>
            </div>
            <div class="col align-self-center">
                <button id="EntryButton" type="submit" class="btn btn-primary">Войти</button>
            </div>
        </form>
    </div>
</div>

<script>
    document.getElementById("close-button-login").onclick = function () {
        window.location.assign("http://127.0.0.1:8000/");
    }

    document.getElementById("EntryButton").onclick = function () {
        let LoginInput = document.getElementById("exampleInputEmail1");
        let PasswordInput = document.getElementById("exampleInputPassword1");

        if (LoginInput.value != "" || PasswordInput.value != "") {
            let toastElList = [].slice.call(document.querySelectorAll('.toast'))
            let toastList = toastElList.map(function (toastEl) {

                return new bootstrap.Toast(toastEl)
            })
            toastList.forEach(toast => toast.show())
        }
    }

</script>
{% endblock %}